{"note":"Don't delete this file! It's used internally to help with page regeneration.","name":"Puppet-ssh","tagline":"Puppet module to manage SSH host and user access","body":"# puppet-ssh\r\n\r\nPuppet module to manage SSH host and user access.\r\n\r\nThe recommended usage is to place the configuration is hiera and just:\r\n\r\n    include ssh\r\n\r\nExample hiera config:\r\n\r\n    ssh::access::allow:\r\n      - 'alice'\r\n      - 'bob'\r\n      - '@sysadmins'\r\n    ssh::access::deny:\r\n      - 'mallory'\r\n      - '@dev'\r\n    \r\n    ssh::keys::bob:\r\n      type: 'ssh-rsa'\r\n      public_key: 'AAAAB3NzaC1yc2EAAAABJQAAAQBaSth67VpPf6i737TWFYwBUwZdovDyfr2df94YbINWOkOQTBoaR5TnUSgqorpTUGmif8w2khqWWb/ZI+l5HQckR8WVVgBDnFPnXcYZ2ok0qV85bD/ttlpw4QDMb82+f72YcBu4h5A2eKxroqFQCyigfXtE3JjgakIm3iW7OW6XQUkAT8MZFhy3xlodJCdNOxvxawd9CVpw70cTeA7bXBiS8AFUpcKp20Z45tixiESrH2E4TRCy8HHxnN6fGUG+Xt6No265fPpEc+Bg+/hkrguIVEuj2NoIoQcS4F8Kew73jnJte4qugNbJIwcKTWn3NvgjA2CwPIWxvkvJerx129cf'\r\n\r\n    ssh::users:\r\n      bob:\r\n        allow: [ 'alice', 'bob' ]\r\n        deny:  [ 'mallory' ]\r\n      tomcat1:\r\n        allow: [ 'alice', 'bob', 'sam' ]\r\n\r\n## Host SSH access\r\n\r\nAccess to the host using is restricted using OpenSSH sshd directives to allow\r\nand deny access to users or group members.  As per the sshd_config(5) man page,\r\nthe allow/deny directives are processed in the following order: DenyUsers,\r\nAllowUsers, DenyGroups, and finally AllowGroups.\r\n\r\n**ssh::access** parameters:\r\n\r\n*allow*: The list of users or groups who will be allowed SSH access. Group\r\nnames are prefixed with an '@' sign.\r\n\r\n*deny* The list of users or groups that will not be allowed SSH access. Group\r\nnames are prefixed with an '@' sign.\r\n\r\n## SSH public keys\r\n\r\nUser SSH public keys are configured using **ssh::keys::<username>** entries -\r\nfor example to specify the public key for the bob user:\r\n\r\n    ssh::keys::bob:\r\n      type: 'ssh-rsa'\r\n      public_key: 'AAAAB3NzaC1yc2EAAAABJQAAAQBaSth67VpPf6i737TWFYwBUwZdovDyfr2df94YbINWOkOQTBoaR5TnUSgqorpTUGmif8w2khqWWb/ZI+l5HQckR8WVVgBDnFPnXcYZ2ok0qV85bD/ttlpw4QDMb82+f72YcBu4h5A2eKxroqFQCyigfXtE3JjgakIm3iW7OW6XQUkAT8MZFhy3xlodJCdNOxvxawd9CVpw70cTeA7bXBiS8AFUpcKp20Z45tixiESrH2E4TRCy8HHxnN6fGUG+Xt6No265fPpEc+Bg+/hkrguIVEuj2NoIoQcS4F8Kew73jnJte4qugNbJIwcKTWn3NvgjA2CwPIWxvkvJerx129cf'\r\n\r\n**ssh::keys::<username>** parameters:\r\n\r\n*type*: The type of SSH key, usually either 'ssh-rsa' or 'ssh-dsa'. *Required*\r\n\r\n*public_key*: The base64-encoded public key. *Required*\r\n\r\n## User SSH access\r\n\r\nAccess to a user account is determined by the public keys listed in the user's\r\n$HOME/.ssh/ssh_authorized_keys file.  \r\n\r\nFor example to allow access to the bob user account using both bob and alice's\r\npublic keys:\r\n\r\n    ssh::users:\r\n      bob:\r\n        allow: [ 'alice', 'bob' ]\r\n        deny:  [ 'mallory' ]\r\n\r\nFor each **ssh::users** user specified the following parameters can be\r\nspecified:\r\n\r\n*allow*: The list of users whose public key must be added to the user's\r\nauthorized_keys file and who will be allowed access to the user account using\r\nSSH\r\n\r\n*deny*: The list of users to allow whose public key must not be present in the\r\nuser's authorized_keys file and who will not be allowed access to the user\r\naccount using SSH\r\n\r\n## Notes\r\n\r\n* Only a single SSH public key can be specified for each user\r\n\r\n## Support\r\n\r\nLicense: Apache License, Version 2.0\r\n\r\nGitHub URL: https://github.com/erwbgy/puppet-ssh\r\n","google":"UA-37513727-1"}